<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
/**
 * @param {number[]} deck
 * @return {boolean}
 */
var gcd = function(a, b) {
  if (b === 0) {
    return a;
  }
  var r = a % b;
  return gcd(b, r);
}

var hasGroupsSizeX = function(deck) {
  let map = new Map();
  deck.forEach(item => map.set(item, map.has(item) ? map.get(item) + 1 : 1));
  let list = [...map.values()];
  let res = list[0];
  return list.every(item => (res = gcd(item, res)) > 1)
};

let test = [2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,3,3,3,3,3,3,3,3];
console.log(hasGroupsSizeX(test));


</script>
</body>
</html>
