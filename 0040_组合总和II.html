
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<script>
//     给定一个数组 candidates 和一个目标数 target ，找出 candidates 中所有可以使数字和为 target 的组合。
//
// candidates 中的每个数字在每个组合中只能使用一次。
//
// 说明：
//
// 所有数字（包括目标数）都是正整数。
// 解集不能包含重复的组合。 
// 示例 1:
//

    /**
     * @param {number[]} candidates
     * @param {number} target
     * @return {number[][]}
     */
    var combinationSum2 = function(candidates, target) {
        let res = [];
        const len = candidates.length;
        candidates.sort((a, b) => a - b);
        function dfs(arr, target, start) {
            if (target < 0) {
                return;
            }
            if (target === 0) {
                res.push(arr)
            }
            for (let i = start; i < len; i++) {
                if (i > start && candidates[i] === candidates[i - 1]) continue; // 跳过后续重复的，但是不能跳过start
                arr.push(candidates[i]);
                dfs(arr.slice(), target - candidates[i], i + 1);
                arr.pop();
            }
        }

        dfs([], target, 0);
        //   let cache = {};
        //  let result = [];
        //  res.forEach(item => {
        //      if (!cache[item.join('')]) {
        //          result.push(item)
        //      }
        //       cache[item.join('')] = 1;
        //  })
        return res;
    };
</script>
</body>
</html>
