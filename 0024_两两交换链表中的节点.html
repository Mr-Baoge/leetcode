<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /**
     * Definition for singly-linked list.
     * function ListNode(val) {
     *     this.val = val;
     *     this.next = null;
     * }
     */
    /**
     * @param {ListNode} head
     * @return {ListNode}
     */
    // var swapPairs = function(head) {
    //     if(!head){
    //         return null;
    //     }
    //     if(!head.next) {
    //         return head;
    //     }
    //     let arr = [];
    //     let p = head;
    //     while (p) {
    //         arr.push(p);
    //         p = p.next;
    //     }
    //     const len = arr.length;
    //     let temp;
    //     for (let i = 0; i < len - 1; i += 2) {
    //         temp = arr[i];
    //         arr[i] = arr[i + 1];
    //         arr[i + 1] = temp;
    //         arr[i].next = arr[i + 1];
    //         arr[i + 1].next = arr[i + 3] || arr[i + 2] || null;
    //     }
    //     return arr[0];
    // };

//   二刷
    /**
     * Definition for singly-linked list.
     * function ListNode(val, next) {
     *     this.val = (val===undefined ? 0 : val)
     *     this.next = (next===undefined ? null : next)
     * }
     */
    /**
     * @param {ListNode} head
     * @return {ListNode}
     */
    var swapPairs = function(head) {
      if (!head || !head.next) return head;
      let res = head.next;
      let p = head;
      let prev = head;
      while(p && p.next) {
        let temp = p.next.next;
        p.next.next = p;
        prev.next = p.next;
        p.next = temp;
        prev = p;
        p = p.next;
      }
      return res;
    };
</script>
</body>
</html>
